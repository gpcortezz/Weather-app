<meta charset="UTF-8">
<h2>7.1. Visión General de la API:</h2>
<p>La aplicación utiliza una API meteorológica externa para obtener datos de ubicación y pronóstico del tiempo.</p>

<h2>7.2. Lista de Endpoints:</h2>
<ul>
    <li><strong>fetchLocation(lat, lon)</strong>: Obtiene la clave de ubicación basada en coordenadas</li>
    <li><strong>fetchForecast(locationKey, isCelsius)</strong>: Obtiene el pronóstico del tiempo para una ubicación</li>
</ul>

<h2>7.3. Detalle de Endpoints Clave:</h2>
<h3>fetchLocation</h3>
<pre><code>export async function fetchLocation(lat, lon) {
    const url = `${config.api.baseUrl}${config.endpoints.location}?apikey=${config.api.key}&q=${lat},${lon}`;
    const response = await fetch(url);
    if (!response.ok) throw new Error('Error fetching location data');
    return response.json();
}</code></pre>

<h3>fetchForecast</h3>
<pre><code>export async function fetchForecast(locationKey, isCelsius = true) {
    const url = `${config.api.baseUrl}${config.endpoints.forecast}/${locationKey}?apikey=${config.api.key}&metric=${isCelsius}`;
    const response = await fetch(url);
    if (!response.ok) throw new Error('Error fetching forecast data');
    const data = await response.json();
    return data.DailyForecasts.map(day => ({
        date: new Date(day.Date).toLocaleDateString('en-US', {
            weekday: 'long',
            day: 'numeric',
            month: 'short',
            year: 'numeric',
        }),
        temperatures: {
            celsius: `${day.Temperature.Minimum.Value}° - ${day.Temperature.Maximum.Value}° C`,
            fahrenheit: `${(day.Temperature.Minimum.Value * 1.8 + 32).toFixed(1)}° - ${(day.Temperature.Maximum.Value * 1.8 + 32).toFixed(1)}° F`
        },
        weatherText: day.Day.IconPhrase,
        icon: `${config.api.iconsUrl}${String(day.Day.Icon).padStart(2, '0')}-s.png`
    }));
}</code></pre>